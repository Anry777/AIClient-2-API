# Implementation Checklist

## –û–±–∑–æ—Ä

–ü—Ä–æ–≤–µ—Ä–æ—á–Ω—ã–π —á–µ–∫-–ª–∏—Å—Ç –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.

---

## Phase 1: Thinking Warmup System

**–§–∞–π–ª**: `PHASE_1.md`

- [x] –°–æ–∑–¥–∞–Ω `src/gemini/config.js`
- [x] –°–æ–∑–¥–∞–Ω `src/gemini/thinking-utils.js`
- [x] –°–æ–∑–¥–∞–Ω `src/gemini/signature-cache.js`
- [x] –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω `src/gemini/antigravity-core.js`
  - [x] –î–æ–±–∞–≤–ª–µ–Ω—ã –∏–º–ø–æ—Ä—Ç—ã
  - [x] –î–æ–±–∞–≤–ª–µ–Ω `PLUGIN_SESSION_ID`
  - [x] –î–æ–±–∞–≤–ª–µ–Ω—ã —Å–≤–æ–π—Å—Ç–≤–∞ –≤ constructor
  - [x] –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `buildThinkingWarmupBody`
  - [x] –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `runThinkingWarmup` –≤ –∫–ª–∞—Å—Å
  - [x] –ò–∑–º–µ–Ω–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ `thinkingConfig` –≤ `geminiToAntigravity`
  - [x] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω warmup –≤ `generateContentStream`
  - [x] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω warmup –≤ `generateContent`
- [x] Unit —Ç–µ—Å—Ç—ã —Å–æ–∑–¥–∞–Ω—ã
- [x] –ö–æ–º–ø–∏–ª—è—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
- [x] –°–µ—Ä–≤–∏—Å –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [x] –õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ warmup
- [x] –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—à–ª–æ —É—Å–ø–µ—à–Ω–æ

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ

---

## Phase 2: Signature Caching System

**–§–∞–π–ª**: `PHASE_2.md`

- [x] –î–æ–±–∞–≤–ª–µ–Ω–æ —á—Ç–µ–Ω–∏–µ –∏–∑ cache –ø—Ä–∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- [x] –î–æ–±–∞–≤–ª–µ–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–µ–π –∏–∑ SSE –æ—Ç–≤–µ—Ç–æ–≤
- [x] –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ—á–∏—Å—Ç–∫–∞ expired signatures –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
- [x] –î–æ–±–∞–≤–ª–µ–Ω graceful shutdown –¥–ª—è –∑–∞–ø–∏—Å–∏ cache –Ω–∞ –¥–∏—Å–∫
- [x] –ú–µ—Ç–æ–¥ `shutdown` –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–ª–∞—Å—Å
- [x] –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ SIGTERM/SIGINT –¥–æ–±–∞–≤–ª–µ–Ω—ã
- [x] Unit —Ç–µ—Å—Ç—ã —Å–æ–∑–¥–∞–Ω—ã
- [x] –ö–æ–º–ø–∏–ª—è—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
- [x] –°–µ—Ä–≤–∏—Å –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [x] Unit —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- [x] –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–∞–±–æ—Ç—É –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è
- [x] –î–∏—Å–∫–æ–≤—ã–π –∫–µ—à —Å–æ–∑–¥–∞–µ—Ç—Å—è –∏ —á–∏—Ç–∞–µ—Ç—Å—è

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ

---

## Phase 3: Stable Session ID

**–§–∞–π–ª**: `PHASE_3.md`

- [x] –£–¥–∞–ª–µ–Ω–∞ —Å–ª—É—á–∞–π–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è `generateSessionID`
- [x] –ó–∞–º–µ–Ω–µ–Ω –Ω–∞ `PLUGIN_SESSION_ID` –≤ `geminiToAntigravity`
- [x] –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥—Ä—É–≥–∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π `generateSessionID`
- [x] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `PLUGIN_SESSION_ID` –æ–±—ä—è–≤–ª–µ–Ω –≥–ª–æ–±–∞–ª—å–Ω–æ
- [x] –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ sessionId
- [x] Unit —Ç–µ—Å—Ç—ã —Å–æ–∑–¥–∞–Ω—ã
- [x] –ö–æ–º–ø–∏–ª—è—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
- [x] –°–µ—Ä–≤–∏—Å –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [x] –õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Å—Ç–∞–±–∏–ª—å–Ω—ã–π session ID
- [x] Unit —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (11 —Ç–µ—Å—Ç–æ–≤ stable-session-id)
- [x] Multi-turn conversation —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [x] Session ID –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ

---

## Phase 4: Thinking Recovery

**–§–∞–π–ª**: `PHASE_4.md`

- [x] –°–æ–∑–¥–∞–Ω `src/gemini/thinking-recovery.js`
- [x] –°–æ–∑–¥–∞–Ω `src/gemini/error-handler.js`
- [x] –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç –≤ `antigravity-core.js`
- [x] –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ recovery –≤ `initialize`
- [x] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω recovery –≤ `geminiToAntigravity`
- [x] –û–±–Ω–æ–≤–ª–µ–Ω config –¥–ª—è `session_recovery`
- [x] Unit —Ç–µ—Å—Ç—ã —Å–æ–∑–¥–∞–Ω—ã
- [x] –ö–æ–º–ø–∏–ª—è—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
- [x] –°–µ—Ä–≤–∏—Å –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [x] Unit —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- [x] –õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ recovery
- [x] Recovery –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ

---

## Phase 5: Tool ID Recovery

**–§–∞–π–ª**: `PHASE_5.md`

- [ ] –°–æ–∑–¥–∞–Ω `src/gemini/tool-recovery.js`
- [ ] –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç –≤ `antigravity-core.js`
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω tool recovery –≤ `geminiToAntigravity`
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω config –¥–ª—è `tool_id_recovery`
- [ ] Unit —Ç–µ—Å—Ç—ã —Å–æ–∑–¥–∞–Ω—ã
- [ ] –ö–æ–º–ø–∏–ª—è—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
- [ ] –°–µ—Ä–≤–∏—Å –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] Unit —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] –õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ tool recovery
- [ ] Orphan tool responses –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞—é—Ç—Å—è –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è
- [ ] Placeholder tool calls —Å–æ–∑–¥–∞—é—Ç—Å—è

**–°—Ç–∞—Ç—É—Å**: ‚¨ú –ù–µ –Ω–∞—á–∞—Ç–æ | ‚úÖ –í –ø—Ä–æ—Ü–µ—Å—Å–µ | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ

---

## Phase 6: Enhanced Error Handling

**–§–∞–π–ª**: `PHASE_6.md`

- [ ] –†–∞—Å—à–∏—Ä–µ–Ω `callApi` –¥–ª—è retry –ª–æ–≥–∏–∫–∏
- [ ] –†–∞—Å—à–∏—Ä–µ–Ω `streamApi` –¥–ª—è retry –ª–æ–≥–∏–∫–∏
- [ ] –î–æ–±–∞–≤–ª–µ–Ω Empty Response Retry
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω config –¥–ª—è empty response retry
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ retry attempts
- [ ] –î–æ–±–∞–≤–ª–µ–Ω—ã retry stats –≤ –∫–ª–∞—Å—Å
- [ ] –ú–µ—Ç–æ–¥ `logRetryStats` –¥–æ–±–∞–≤–ª–µ–Ω
- [ ] Unit —Ç–µ—Å—Ç—ã —Å–æ–∑–¥–∞–Ω—ã
- [ ] –ö–æ–º–ø–∏–ª—è—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
- [ ] –°–µ—Ä–≤–∏—Å –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] Unit —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] –õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç retry attempts
- [ ] –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ retry —Ä–∞–±–æ—Ç–∞–µ—Ç

**–°—Ç–∞—Ç—É—Å**: ‚¨ú –ù–µ –Ω–∞—á–∞—Ç–æ | ‚úÖ –í –ø—Ä–æ—Ü–µ—Å—Å–µ | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ

---

## Phase 7: Configuration Schema

**–§–∞–π–ª**: `PHASE_7.md`

- [ ] –°–æ–∑–¥–∞–Ω `src/gemini/config-loader.js`
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω `src/gemini/config.js`
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω `src/gemini/antigravity-core.js` –¥–ª—è async getConfig
- [ ] –°–æ–∑–¥–∞–Ω –ø—Ä–∏–º–µ—Ä config —Ñ–∞–π–ª–∞
- [ ] Unit —Ç–µ—Å—Ç—ã —Å–æ–∑–¥–∞–Ω—ã
- [ ] –ö–æ–º–ø–∏–ª—è—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
- [ ] –°–µ—Ä–≤–∏—Å –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] Unit —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] Config –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–∑ —Ñ–∞–π–ª–∞
- [ ] Config –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–∑ env –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- [ ] Validation —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–°—Ç–∞—Ç—É—Å**: ‚¨ú –ù–µ –Ω–∞—á–∞—Ç–æ | ‚úÖ –í –ø—Ä–æ—Ü–µ—Å—Å–µ | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ

---

## Phase 8: Testing & Validation

**–§–∞–π–ª**: `PHASE_8.md`

- [ ] –í—Å–µ unit —Ç–µ—Å—Ç—ã –∑–∞–ø—É—â–µ–Ω—ã
- [ ] Coverage > 80%
- [ ] Integration —Ç–µ—Å—Ç—ã —Å–æ–∑–¥–∞–Ω—ã
- [ ] Integration —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] Thinking Warmup —Å Cloud Opus –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω
- [ ] Multi-turn conversation –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω
- [ ] Tool use recovery –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω
- [ ] Thinking recovery –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω
- [ ] Signature cache hit rate –ø—Ä–æ–≤–µ—Ä–µ–Ω
- [ ] Concurrent requests –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã
- [ ] Edge cases –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã
- [ ] –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å opencode-antigravity-auth –≤—ã–ø–æ–ª–Ω–µ–Ω–∞

**–°—Ç–∞—Ç—É—Å**: ‚¨ú –ù–µ –Ω–∞—á–∞—Ç–æ | ‚úÖ –í –ø—Ä–æ—Ü–µ—Å—Å–µ | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ

---

## –§–∏–Ω–∞–ª—å–Ω—ã–π —á–µ–∫-–ª–∏—Å—Ç

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

- [ ] Thinking Warmup —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Signature Caching —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Stable Session ID —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Thinking Recovery —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Tool ID Recovery —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Enhanced Error Handling —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Configuration —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å opencode-antigravity-auth

- [ ] Thinking Warmup —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- [ ] Signature Caching (memory + disk) —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- [ ] Graceful Shutdown —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- [ ] Thinking Recovery —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- [ ] Tool ID Recovery —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- [ ] Error Handling —Å retry —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- [ ] Empty Response Retry —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- [ ] Configuration –∏–∑ —Ñ–∞–π–ª–æ–≤ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- [ ] Configuration –∏–∑ env —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- [ ] Validation —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [ ] –§–∞–π–ª—ã PHASE_*.md –ø—Ä–æ—á–∏—Ç–∞–Ω—ã –∏ –ø–æ–Ω—è—Ç—ã
- [ ] –ö–æ–¥ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –¥–ª—è –∫–∞–∂–¥–æ–π —Ñ–∞–∑—ã
- [ ] –û—Ç–ª–∞–¥–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

---

## –û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å

| –§–∞–∑–∞ | –°—Ç–∞—Ç—É—Å | –ü—Ä–æ–±–ª–µ–º—ã |
|-------|---------|-----------|
| Phase 1 | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ | - |
| Phase 2 | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ | - |
| Phase 3 | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ | - |
| Phase 4 | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ | - |

---

## –ó–∞–º–µ—Ç–∫–∏

### Phase 1:
- ‚úÖ –í—Å–µ —Ñ–∞–π–ª—ã —Å–æ–∑–¥–∞–Ω—ã –∏ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ –ö–æ–º–ø–∏–ª—è—Ü–∏—è –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ
- ‚úÖ Unit —Ç–µ—Å—Ç—ã —Å–æ–∑–¥–∞–Ω—ã (signature-cache.test.js, thinking-utils.test.js)
- ‚úÖ 44 —Ç–µ—Å—Ç–∞ –ø—Ä–æ—Ö–æ–¥—è—Ç (33 thinking-utils + 11 signature-cache)
- ‚úÖ –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ:
  - Warmup –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –¥–ª—è thinking –º–æ–¥–µ–ª–µ–π —Å tools
  - –û—Å–Ω–æ–≤–Ω–æ–π –∑–∞–ø—Ä–æ—Å –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ
  - –õ–æ–≥–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ warmup
  - Signature cache –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –§–∏–∫—Å—ã –≤–æ –≤—Ä–µ–º—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `hasToolsInRequest` (–ø—Ä–æ–≤–µ—Ä–∫–∞ tools –≤ –∑–∞–ø—Ä–æ—Å–µ, –∞ –Ω–µ functionCall –≤ –æ—Ç–≤–µ—Ç–µ)
  - –î–æ–±–∞–≤–ª–µ–Ω `maxOutputTokens=64000` –¥–ª—è thinking –º–æ–¥–µ–ª–µ–π
  - –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω warmup –≤ `generateContent` (–Ω–µ —Ç–æ–ª—å–∫–æ –≤ `generateContentStream`)
### Phase 2:
- ‚úÖ –ß—Ç–µ–Ω–∏–µ –∏–∑ cache –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ—Å–ª–µ warmup –≤ generateContent –∏ generateContentStream
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–µ–π –∏–∑ SSE –æ—Ç–≤–µ—Ç–æ–≤ –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ generateContentStream
- ‚úÖ Cleanup expired signatures –¥–æ–±–∞–≤–ª–µ–Ω –≤ initialize()
- ‚úÖ Graceful shutdown –¥–æ–±–∞–≤–ª–µ–Ω —Å –º–µ—Ç–æ–¥–æ–º shutdown() –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏ SIGTERM/SIGINT
- ‚úÖ PLUGIN_SESSION_ID –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–º–µ—Å—Ç–æ generateSessionID() –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω—ã—Ö —Å–µ—Å—Å–∏–π
- ‚úÖ –ö–æ–º–ø–∏–ª—è—Ü–∏—è –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ
- ‚úÖ Unit —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (10 —Ç–µ—Å—Ç–æ–≤ signature-cache, 30 —Ç–µ—Å—Ç–æ–≤ thinking-utils)
- ‚úÖ –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ:
  - –õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç `[Antigravity] Using cached signature for ...`
  - –î–∏—Å–∫–æ–≤—ã–π –∫–µ—à —Å–æ–∑–¥–∞–µ—Ç—Å—è (`data/signature-cache/cache.json`)
  - –ü–æ–¥–ø–∏—Å–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è —Å –∫–ª—é—á–æ–º, timestamp
### Phase 3:
- ‚úÖ –£–¥–∞–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `generateSessionID()` - –∑–∞–º–µ–Ω–µ–Ω–∞ –Ω–∞ `PLUGIN_SESSION_ID`
- ‚úÖ PLUGIN_SESSION_ID –æ–±—ä—è–≤–ª–µ–Ω –Ω–∞ —É—Ä–æ–≤–Ω–µ –º–æ–¥—É–ª—è –∫–∞–∫ `const PLUGIN_SESSION_ID = \`-${uuidv4()}\``
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ initialize():
  - `[Antigravity] Using stable session ID: <uuid>`
  - `[Antigravity] Session ID will remain constant across all requests in this process`
- ‚úÖ –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `stable-session-id.test.js` —Å 11 —Ç–µ—Å—Ç–∞–º–∏
- ‚úÖ –í—Å–µ 51 unit —Ç–µ—Å—Ç –ø—Ä–æ—Ö–æ–¥—è—Ç (11 stable-session-id + 10 signature-cache + 30 thinking-utils)
- ‚úÖ –õ–æ–≥–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—Ç —Å—Ç–∞–±–∏–ª—å–Ω—ã–π session ID
- ‚úÖ –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ:
  - –î–≤–∞ –∑–∞–ø—Ä–æ—Å–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã ("Say hello", "Say goodbye")
  - –û–±–∞ –∑–∞–ø—Ä–æ—Å–∞ —É—Å–ø–µ—à–Ω—ã —Å –æ–¥–Ω–∏–º session ID `-b3e81a88-939b-4404-95e6-4b11804daeb8`
### Phase 4:
- ‚úÖ –°–æ–∑–¥–∞–Ω—ã `thinking-recovery.js` –∏ `error-handler.js`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –∏–º–ø–æ—Ä—Ç—ã –≤ `antigravity-core.js`
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ `[Antigravity] Thinking recovery: ENABLED` –¥–æ–±–∞–≤–ª–µ–Ω–æ
- ‚úÖ Recovery –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ `geminiToAntigravity`
- ‚úÖ `session_recovery: true` –≤ config.js
- ‚úÖ Unit —Ç–µ—Å—Ç—ã —Å–æ–∑–¥–∞–Ω—ã (26 —Ç–µ—Å—Ç–æ–≤ thinking-recovery)
- ‚úÖ –ö–æ–º–ø–∏–ª—è—Ü–∏—è –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ
- ‚úÖ –°–µ—Ä–≤–∏—Å –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ Docker –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –í—Å–µ 77 unit —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç (26 thinking-recovery + 11 stable-session-id + 10 signature-cache + 30 thinking-utils)
- ‚úÖ –õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç `[Antigravity] Detected thinking recovery needed, applying fix...`
- ‚úÖ Recovery –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ Docker
- ‚úÖ –ú–æ–¥–µ–ª—å claude-opus-4-5-thinking –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞
- ‚úÖ –ú–æ–¥–µ–ª—å gemini-2.0-flash-thinking-exp –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞
### Phase 5:
-
### Phase 6:
-
### Phase 7:
-
### Phase 8:
-

---

## –í–æ–ø—Ä–æ—Å—ã –∏ –ø—Ä–æ–±–ª–µ–º—ã

-
-

---

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –ù–∞—á–Ω–∏—Ç–µ —Å Phase 1.md
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –∑–∞–¥–∞—á–∏ –∏–∑ —á–µ–∫-–ª–∏—Å—Ç–∞ Phase 1
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞
4. –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ Phase 2
5. –ü–æ–≤—Ç–æ—Ä—è–π—Ç–µ –¥–ª—è –≤—Å–µ—Ö —Ñ–∞–∑

---

–£–¥–∞—á–∏ —Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π! üöÄ
